load('sequence.mat');
threshold = 5;
nbr_examples = 1000;
Xlist = zeros(3,1);
for i = 1:nbr_examples
    Ps = triangulation_examples(i).Ps;
    xs = triangulation_examples(i).xs;
    [X, nbr_inliers] = ransacTriangulation(Ps, xs, threshold);
    if nbr_inliers >=2
        Xlist = [Xlist X];
    end
end
Ps = triangulation_examples(1).Ps;
xs = triangulation_examples(1).xs;
[Xlist, nbr_inliers] = ransacTriangulation(Ps, xs, threshold);
Xlist = cleanForPlot(Xlist);
scatter3(Xlist(2,:),Xlist(1,:),Xlist(3,:),'.')
axis equal